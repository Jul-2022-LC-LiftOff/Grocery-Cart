<!--Header for Title-->

<div>
  <h4 class="modal-title" id="modal-basic-title">New Recipe</h4>
</div>
<br>
<!--Recipe Name & Save button to Create ID-->  
<div class="form-group">
  <p class="button-font">Recipe Name: <b class="button-font">{{recipeName?.name}}</b></p>
  <div>
    <button class="button-font" mat-raised-button color="accent" (click)="addRecipeName(recipeContent)">+ Add Recipe Name</button>
  </div>

  <!--Add Ingredients and steps! *NOTE: The submit button compiles and submits these together-->
  <br>
  <!--Ingredients with add ingredients Button-->
  <p class="button-font">Ingredients:</p>
  <ul>
    <li *ngFor="let ingredient of ingredients" class="button-font">{{ingredient.amount}} {{ingredient.unit}} {{ingredient.ingredient}} <button (click)="openRemoveIngredient(contentRemoveIngredient, ingredient)">Remove</button></li>
  </ul>
  <div>
    <button mat-raised-button color="accent" (click)="addIngredientOrStep(ingredientContent)">+ Add Ingredient</button>
  </div>
  <!--Steps with add steps button-->
  <br>
  <p class="button-font">Steps:</p>  
  <ol>
    <li *ngFor="let step of steps" class="button-font">{{step.step}} <button mat-mini-fab color="warn"  (click)="openRemoveStep(contentRemoveStep, step)"><mat-icon class="material-symbols-outlined">
      delete
     </mat-icon></button></li>
  </ol>
  <div>
    <button mat-raised-button color="accent" (click)="addIngredientOrStep(stepContent)">+ Add Step</button>
  </div>
  <!--Submit Button-->
  <br>
  <div>
    <button mat-raised-button color="primary" class="border-button" type="submit" (click)="onSubmit()">Submit</button>
  </div>

</div>
  
  <!--This is the button to close out of each of the modals (the X)-->
  <ng-template #recipeContent let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Add Recipe:</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <!--Recipe Name Modal-->
    <form #f="ngForm" (ngSubmit)="onAddRecipeName(f)" novalidate class="space">
      <label class="button-font" for="name">Recipe Name</label>
      <div>
        <input id="name" name="name" ngModel />
      </div>
      <div class="space">
        <button data-dismiss="modal" mat-raised-button color="primary" class="border-button">Add</button>
      </div>
    </form>
  </ng-template>
  <!--Add ingredient Modal-->
    <ng-template #ingredientContent let-modal>
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add Ingredient:</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form #f="ngForm" (ngSubmit)="onAddIngredient(f)" novalidate class="space">
        <label for="name" class="button-font">Amount</label>
        <div>
          <input class="underspace" id="amount" name="amount" ngModel />
        </div>
        <label for="name" class="button-font">Unit</label>
        <div>
          <input class="underspace" id="unit" name="unit" ngModel />
        </div>
        <label for="name" class="button-font">Ingredient</label>
        <div>
          <input class="underspace" id="ingredient" name="ingredient" ngModel />
        </div>
        <div class="space">
          <button data-dismiss="modal" mat-raised-button color="primary" class="border-button">Add</button>
        </div>
      </form>  
    </ng-template>
  <!--Add Steps Modal-->
    <ng-template #stepContent let-modal>
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add Step:</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form #f="ngForm" (ngSubmit)="onAddStep(f)" novalidate class="space">
        <div>
          <input id="step" name="step" ngModel />
        </div>
        <div class="space">
          <button data-dismiss="modal" mat-raised-button color="primary" class="border-button">Add</button>
        </div>
      </form>
    </ng-template>
<!--Remove-->
    <ng-template #contentRemoveIngredient let-modal>
      <div class="modal-header">
        <h4 class="modal-title">Confirm Delete</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h6>Are you sure you want to delete this ingredient.</h6>
        <div class="border text-center">
          <button mat-raised-button color="warn" data-dismiss="modal"  (click)="onRemoveIngredient()">Yes, Delete!</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
      </div>
    </ng-template>

    <ng-template #contentRemoveStep let-modal>
      <div class="modal-header">
        <h4 class="modal-title">Confirm Delete</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h6>Are you sure you want to delete this step.</h6>
        <div class="border text-center">
          <button data-dismiss="modal" class="btn btn-danger" (click)="onRemoveStep()">Yes, Delete!</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
      </div>
    </ng-template>

    